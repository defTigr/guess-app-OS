name: build-and-push-guess-app
on: [push]
jobs:
    build-and-push:
      runs-on: macos-13-x1
      steps:
        - name: Checkout source code from git repository
          uses: actions/checkout@v3
          shell: bash

        - name: Set up Go
          uses: actions/setup-go@v3
          with:
            go-version: '1.19'

        - name: Show go version
          run: go version

        - name: Print working directory
          run: pwd

        - name: Create artifact directory
          run: mkdir ~/artifact

        - name: Build
          run: go build -o ~/artifact

        - name: Show build
          run: ls -l ~/artifact

        - name: Upload artifact
          uses: actions/upload-artifact@v3
          with:
            name: my-artifact
            path: ~/artifact/